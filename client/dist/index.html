<!DOCTYPE html>
<html>

<head>
  <!-- AFrame (uses three.js) -->
  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.loaders.min.js"></script>
  <script
    src="https://unpkg.com/aframe-text-geometry-component@0.5.1/dist/aframe-text-geometry-component.min.js"></script>
  <!-- AR.js: we import arjs version without NFT but with marker + location based support -->
  <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
  <!-- <script src="https://rawcdn.githack.com/AR-js-org/AR.js/3.3.3/aframe/build/aframe-ar.js?min=1"></script> -->
  
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
  
  <!-- fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Titillium+Web:ital,wght@0,300;0,400;0,600;0,700;0,900;1,300;1,400;1,600;1,700&display=swap"
    rel="stylesheet">
  
  <script src="bundle.js"></script>
  <link rel="stylesheet" href="styles.css">

  <title>AR Easter Egg Hunt</title>
</head>


<body>
  <a-scene embedded arjs="detectionMode: mono_and_matrix; matrixCodeType: 4x4_BCH_13_9_3" vr-mode-ui="enabled: false">
    <!-- 'stats' component removed -->
    <!-- FIXME: test Samsung Internet zoom issues -->

    <a-assets>
      <a-asset-item id="egg" src="/assets/models/egg.gltf"></a-asset-item>
      <a-asset-item id="egg-stripey" src="/assets/models/egg_stripey.gltf"></a-asset-item>
      <a-asset-item id="egg-stripey-2" src="/assets/models/egg_stripey_2.gltf"></a-asset-item>
      <a-asset-item id="egg-zig-zag" src="/assets/models/egg_zig_zag.gltf"></a-asset-item>
      <a-asset-item id="egg-spotty" src="/assets/models/egg_spotty.gltf"></a-asset-item>
    </a-assets>

    <!-- Twenty Separator -->

    <a-marker type="barcode" value="001" id="barcode-001" registerevents>
      <a-box shadow="receive:true" material="color: #ffff55" geometry="height: 0.05" opacity="0.8" position="0 0.05 0"
        scale="2 2 2">
      </a-box>
      <a-entity id="egg_entity" gltf-model="#egg" shadow="receive:false" scale="2 2 2"
        animation__position="property: position; from: 0 0 0; to: 0 2 0; dur: 2000; easing: easeOutElastic; startEvents: parentMarkerFound"
        animation__color="property: gltf-material-tweak.color; from: #ff00ff; to: #ff8888; dur: 2000; easing: easeOutQuad; startEvents: parentMarkerFound"
        position="0 0 0" gltf-material-tweak="material: EggMaterial001; opacity: 1.0;">
      </a-entity>
      <a-entity id="confetti-particles" scale="2 2 2" confetti-particles></a-entity>
    </a-marker>


    <a-marker type="barcode" value="002" id="barcode-002" registerevents>
      <a-box shadow="receive:true" material="color: #ffff55" geometry="height: 0.05" opacity="0.8" position="0 0.05 0"
        scale="2 2 2">
      </a-box>
      <a-entity id="egg_entity" gltf-model="#egg-stripey-2" shadow="receive:false" scale="2 2 2"
        animation__position="property: position; from: 0 0 0; to: 0 2 0; dur: 2000; easing: easeOutElastic; startEvents: parentMarkerFound"
        position="0 0 0" change-colors="first: #ff7700; second: #ffdd00">
      </a-entity>
    </a-marker>

    <a-marker type="barcode" value="003" id="barcode-003" registerevents>
      <a-box shadow="receive:true" material="color: #ffff55" geometry="height: 0.05" opacity="0.8" position="0 0.05 0"
        scale="2 2 2">
      </a-box>
      <a-entity id="egg_entity" gltf-model="#egg-stripey" shadow="receive:false" scale="2 2 2"
        animation__position="property: position; from: 0 0 0; to: 0 2 0; dur: 2000; easing: easeOutElastic; startEvents: parentMarkerFound"
        position="0 0 0" rotation="270 0 0" gltf-material-tweak="material: EggMaterial002; opacity: 1.0; color: #00cc22;">
      </a-entity>
    </a-marker>
    
    
    <a-marker type="barcode" value="004" id="barcode-004" registerevents>
      <a-box shadow="receive:true" material="color: #ffff55" geometry="height: 0.05" opacity="0.8" position="0 0.05 0"
        scale="2 2 2">
      </a-box>
      <a-entity id="egg_entity" gltf-model="#egg-spotty" shadow="receive:false" scale="2 2 2"
        animation__position="property: position; from: 0 0 0; to: 0 2 0; dur: 2000; easing: easeOutElastic; startEvents: parentMarkerFound"
        position="0 0 0" rotation="270 0 0" change-colors="first: #ff0000; second: #ffeeee">
      </a-entity>
    </a-marker>
    
    
    <a-marker type="barcode" value="005" id="barcode-005" registerevents>
      <a-box shadow="receive:true" material="color: #ffff55" geometry="height: 0.05" opacity="0.8" position="0 0.05 0"
        scale="2 2 2">
      </a-box>
      <a-entity id="egg_entity" gltf-model="#egg-stripey" shadow="receive:false" scale="2 2 2"
        animation__position="property: position; from: 0 30 0; to: 0 2 0; dur: 4000; easing: easeOutElastic; startEvents: parentMarkerFound"
        position="0 0 0" change-colors="first: #0044ff; second: #eeeeff">
      </a-entity>
    </a-marker>
    
    
    <a-marker type="barcode" value="006" id="barcode-006" registerevents>
      <a-box shadow="receive:true" material="color: #ffff55" geometry="height: 0.05" opacity="0.8" position="0 0.05 0"
        scale="2 2 2">
      </a-box>
      <a-entity id="egg_entity" gltf-model="#egg-stripey" shadow="receive:false" scale="2 2 2"
        animation__position="property: position; from: 0 0 0; to: 0 2 0; dur: 2000; easing: easeOutElastic; startEvents: parentMarkerFound"
        position="0 0 0" change-colors="first: #00cc00; second: #eeffee">
      </a-entity>
      <a-entity id="confetti-particles" scale="2 2 2" confetti-particles></a-entity>
    </a-marker>
    
    
    <a-marker type="barcode" value="007" id="barcode-007" registerevents>
      <a-box shadow="receive:true" material="color: #ffff55" geometry="height: 0.05" opacity="0.8" position="0 0.05 0"
        scale="2 2 2">
      </a-box>
      <a-entity id="egg_entity" gltf-model="#egg-zig-zag" shadow="receive:false" scale="2 2 2"
        animation__position="property: position; from: 0 0 0; to: 0 2 0; dur: 2000; easing: easeOutElastic; startEvents: parentMarkerFound"
        position="0 0 0" gltf-material-tweak="material: EggMaterial002; opacity: 1.0; color: #0066ff;">
      </a-entity>
    </a-marker>
    
    
    <a-marker type="barcode" value="008" id="barcode-008" registerevents>
      <a-box shadow="receive:true" material="color: #ffff55" geometry="height: 0.05" opacity="0.8" position="0 0.05 0"
        scale="2 2 2">
      </a-box>
      <a-entity id="egg_entity" gltf-model="#egg" shadow="receive:false" scale="2 2 2"
        animation__position="property: position; from: 0 0 0; to: 0 2 0; dur: 2000; easing: easeOutElastic; startEvents: parentMarkerFound"
        animation__color="property: gltf-material-tweak.color; from: #ff0000; to: #440000; dur: 4000; easing: easeOutElastic; startEvents: parentMarkerFound"
        position="0 0 0" rotation="270 0 0" gltf-material-tweak="material: EggMaterial001; opacity: 1.0;">
      </a-entity>
    </a-marker>
    
    
    <a-marker type="barcode" value="009" id="barcode-009" registerevents>
      <a-box shadow="receive:true" material="color: #ffff55" geometry="height: 0.05" opacity="0.8" position="0 0.05 0"
        scale="2 2 2">
      </a-box>
      <a-entity id="egg_entity" gltf-model="#egg-spotty" shadow="receive:false" scale="2 2 2"
        animation__position="property: position; from: 0 0 0; to: 0 2 0; dur: 2000; easing: easeOutElastic; startEvents: parentMarkerFound"
        position="0 0 0" change-colors="first: #0044ff; second: #ddeeff">
      </a-entity>
      <a-entity id="light-ring" scale="2 2 2" light-ring></a-entity>
    </a-marker>
    
    
    <a-marker type="barcode" value="010" id="barcode-010" registerevents>
      <a-box shadow="receive:true" material="color: #ffff55" geometry="height: 0.05" opacity="0.8" position="0 0.05 0"
        scale="2 2 2">
      </a-box>
      <a-entity id="egg_entity" gltf-model="#egg-zig-zag" shadow="receive:false" scale="2 2 2"
        animation__position="property: position; from: 0 0 0; to: 0 2 0; dur: 2000; easing: easeOutElastic; startEvents: parentMarkerFound"
        position="0 0 0" rotation="270 0 0" change-colors="first: #00dd00; second: #112211">
      </a-entity>
    </a-marker>


    <a-marker type="barcode" value="011" id="barcode-011" registerevents>
      <a-box shadow="receive:true" material="color: #ffff55" geometry="height: 0.05" opacity="0.8" position="0 0.05 0"
        scale="2 2 2">
      </a-box>
      <a-entity id="egg_entity" gltf-model="#egg" shadow="receive:false" scale="2 2 2"
        animation__position="property: position; from: 0 0 0; to: 0 2 0; dur: 2000; easing: easeOutElastic; startEvents: parentMarkerFound"
        animation__color="property: gltf-material-tweak.color; from: #ff7700; to: #ff0000; dur: 3000; easing: easeOutQuad; startEvents: parentMarkerFound"
        position="0 0 0" rotation="270 0 0" gltf-material-tweak="material: EggMaterial001; opacity: 1.0">
      </a-entity>
    </a-marker>


    <a-marker type="barcode" value="012" id="barcode-012" registerevents>
      <a-box shadow="receive:true" material="color: #ffff55" geometry="height: 0.05" opacity="0.8" position="0 0.05 0"
        scale="2 2 2">
      </a-box>
      <a-entity id="egg_entity" gltf-model="#egg-zig-zag" shadow="receive:false" scale="2 2 2"
        animation__position="property: position; from: 0 0 0; to: 0 2 0; dur: 2000; easing: easeOutElastic; startEvents: parentMarkerFound"
        position="0 0 0" change-colors="first: #ff7700; second: #00dd00">
      </a-entity>
    </a-marker> 


     <a-marker type="barcode" value="013" id="barcode-013" registerevents>
      <a-box shadow="receive:true" material="color: #ffff55" geometry="height: 0.05" opacity="0.8" position="0 0.05 0"
        scale="2 2 2">
      </a-box>
      <a-entity id="egg_entity" gltf-model="#egg-stripey" shadow="receive:false" scale="2 2 2"
        animation__position="property: position; from: 0 0 0; to: 0 2 0; dur: 2000; easing: easeOutElastic; startEvents: parentMarkerFound"
        position="0 0 0" rotation="270 0 0" change-colors="first: #ff7700; second: #9900ff">
      </a-entity>
      <a-entity id="light-ring" scale="2 2 2" light-ring></a-entity>
    </a-marker>


    <a-marker type="barcode" value="014" id="barcode-014" registerevents>
      <a-box shadow="receive:true" material="color: #ffff55" geometry="height: 0.05" opacity="0.8" position="0 0.05 0"
        scale="2 2 2">
      </a-box>
      <a-entity id="egg_entity" gltf-model="#egg-spotty" shadow="receive:false" scale="2 2 2"
        animation__position="property: position; from: 0 0 0; to: 0 2 0; dur: 2000; easing: easeOutElastic; startEvents: parentMarkerFound"
        position="0 0 0" rotation="270 0 0" change-colors="first: #ff0000; second: #ffdd00">
      </a-entity>
    </a-marker>


    <a-marker type="barcode" value="015" id="barcode-015" registerevents>
      <a-box shadow="receive:true" material="color: #ffff55" geometry="height: 0.05" opacity="0.8" position="0 0.05 0"
        scale="2 2 2">
      </a-box>
      <a-entity id="egg_entity" gltf-model="#egg" shadow="receive:false" scale="2 2 2"
        animation__position="property: position; from: 0 0 0; to: 0 2 0; dur: 2000; easing: easeOutElastic; startEvents: parentMarkerFound"
        animation__color="property: gltf-material-tweak.color; from: #0033ff; to: #9900ff; dur: 2000; easing: easeOutQuad; startEvents: parentMarkerFound"
        position="0 0 0" rotation="270 0 0" gltf-material-tweak="material: EggMaterial001; opacity: 1.0">
      </a-entity>
    </a-marker>


    <a-marker type="barcode" value="016" id="barcode-016" registerevents>
      <a-box shadow="receive:true" material="color: #ffff55" geometry="height: 0.05" opacity="0.8" position="0 0.05 0"
        scale="2 2 2">
      </a-box>
      <a-entity id="egg_entity" gltf-model="#egg-zig-zag" shadow="receive:false" scale="2 2 2"
        animation__position="property: position; from: 0 0 0; to: 0 2 0; dur: 2000; easing: easeOutElastic; startEvents: parentMarkerFound"
        position="0 0 0" change-colors="first: #00bb00; second: #0033ff">
      </a-entity>
      <a-entity id="confetti-particles" scale="2 2 2" confetti-particles></a-entity>
    </a-marker>


    <a-marker type="barcode" value="017" id="barcode-017" registerevents>
      <a-box shadow="receive:true" material="color: #ffff55" geometry="height: 0.05" opacity="0.8" position="0 0.05 0"
        scale="2 2 2">
      </a-box>
      <a-entity id="egg_entity" gltf-model="#egg-stripey-2" shadow="receive:false" scale="2 2 2"
        animation__position="property: position; from: 0 0 0; to: 0 2 0; dur: 2000; easing: easeOutElastic; startEvents: parentMarkerFound"
        position="0 0 0" rotation="270 0 0" change-colors="first: #0044ff; second: #ff0000">
      </a-entity>
    </a-marker>


    <a-marker type="barcode" value="018" id="barcode-018" registerevents>
      <a-box shadow="receive:true" material="color: #ffff55" geometry="height: 0.05" opacity="0.8" position="0 0.05 0"
        scale="2 2 2">
      </a-box>
      <a-entity id="egg_entity" gltf-model="#egg-stripey" shadow="receive:false" scale="2 2 2"
        animation__position="property: position; from: 0 0 0; to: 0 2 0; dur: 2000; easing: easeOutElastic; startEvents: parentMarkerFound"
        animation__rotation="property: rotation; from: 0 0 0; to: 0 180 0; dur: 4000; easing: easeOutQuad; startEvents: parentMarkerFound"
        position="0 0 0" change-colors="first: #0033ff; second: #ff7700">
      </a-entity>
    </a-marker>


    <a-marker type="barcode" value="019" id="barcode-019" registerevents>
      <a-box shadow="receive:true" material="color: #ffff55" geometry="height: 0.05" opacity="0.8" position="0 0.05 0"
        scale="2 2 2">
      </a-box>
      <a-entity id="egg_entity" gltf-model="#egg-zig-zag" shadow="receive:false" scale="2 2 2"
        animation__position="property: position; from: 0 0 0; to: 0 2 0; dur: 2000; easing: easeOutElastic; startEvents: parentMarkerFound"
        position="0 0 0" change-colors="first: #0033ff; second: #ffdd00">
      </a-entity>
    </a-marker>


    <a-marker type="barcode" value="020" id="barcode-020" registerevents>
      <a-box shadow="receive:true" material="color: #ffff55" geometry="height: 0.05" opacity="0.8" position="0 0.05 0"
        scale="2 2 2">
      </a-box>
      <a-entity id="egg_entity" gltf-model="#egg" shadow="receive:false" scale="2 2 2"
        animation__position="property: position; from: 0 0 0; to: 0 2 0; dur: 2000; easing: easeOutElastic; startEvents: parentMarkerFound"
        animation__color="property: gltf-material-tweak.color; from: #bb00ff; to: #ff6699; dur: 3000; easing: easeOutQuad; startEvents: parentMarkerFound"
        position="0 0 0" gltf-material-tweak="material: EggMaterial001; opacity: 1.0;">
      </a-entity>
    </a-marker>





    <a-marker type="barcode" value="100" id="barcode-100" registerevents>
      <a-box shadow="receive:true" material="color: #ffff55" geometry="height: 0.05" opacity="0.8" position="0 0.05 0"
        scale="2 2 2">
      </a-box>
      <a-entity id="egg_entity" gltf-model="#egg" shadow="receive:false" scale="2 2 2"
        animation__position="property: position; from: 0 0 0; to: 0 2 0; dur: 2000; easing: easeOutElastic; startEvents: parentMarkerFound"
        animation__opacity="property: gltf-material-tweak.opacity; from: 0; to: 1; dur: 320; easing: easeOutQuad; startEvents: parentMarkerFound"
        position="0 0 0" gltf-material-tweak="material: EggMaterial001; opacity: 1.0">
      </a-entity>
      <a-entity id="confetti-particles" scale="2 2 2" confetti-particles></a-entity>
      <a-entity id="light-ring" scale="2 2 2" light-ring></a-entity>
    </a-marker>


    <a-marker type="barcode" value="101" id="barcode-101" registerevents>
      <a-box shadow="receive:true" material="color: #ffff55" geometry="height: 0.05" opacity="0.8" position="0 0.05 0"
        scale="2 2 2">
      </a-box>
      <a-entity gltf-model="#egg" shadow="receive:false" scale="2 2 2"
        animation__position="property: position; from: 0 0 0; to: 0 2 0; dur: 2000; easing: easeOutElastic; startEvents: parentMarkerFound"
        animation__color="property: gltf-material-tweak.color; from: #ff0000; to: #ff8800; dur: 2000; easing: easeOutQuad; startEvents: parentMarkerFound"
        position="0 0 0" gltf-material-tweak="material: EggMaterial001; opacity: 1.0">
      </a-entity>
    </a-marker>


    <a-marker type="barcode" value="102" id="barcode-102" registerevents>
      <a-box shadow="receive:true" material="color: #ffff55" geometry="height: 0.05" opacity="0.8" position="0 0.05 0"
        scale="2 2 2">
      </a-box>
      <a-entity gltf-model="#egg-stripey" shadow="receive:false" scale="2 2 2"
        animation__position="property: position; from: 0 0 0; to: 0 2 0; dur: 2000; easing: easeOutElastic; startEvents: parentMarkerFound"
        animation__rotation="property: rotation; from: 0 0 0; to: 0 180 0; dur: 4000; easing: easeOutQuad; startEvents: parentMarkerFound"
        position="0 0 0">
      </a-entity>
    </a-marker>


    <a-marker type="barcode" value="103" id="barcode-103" registerevents>
      <a-box shadow="receive:true" material="color: #ffff55" geometry="height: 0.05" opacity="0.8" position="0 0.05 0"
        scale="2 2 2">
      </a-box>
      <a-entity gltf-model="#egg-stripey-2" shadow="receive:false" scale="2 2 2"
        animation__position="property: position; from: 0 0 0; to: 0 2 0; dur: 2000; easing: easeOutElastic; startEvents: parentMarkerFound"
        position="0 0 0">
      </a-entity>
    </a-marker>


    <a-marker type="barcode" value="104" id="barcode-104" registerevents>
      <a-box shadow="receive:true" material="color: #ffff55" geometry="height: 0.05" opacity="0.8" position="0 0.05 0"
        scale="2 2 2">
      </a-box>
      <a-entity gltf-model="#egg-zig-zag" shadow="receive:false" scale="2 2 2"
        animation__position="property: position; from: 0 0 0; to: 0 2 0; dur: 2000; easing: easeOutElastic; startEvents: parentMarkerFound"
        position="0 0 0">
      </a-entity>
    </a-marker>


    <a-marker type="barcode" value="105" id="barcode-105" registerevents>
      <a-box shadow="receive:true" material="color: #ffff55" geometry="height: 0.05" opacity="0.8" position="0 0.05 0"
        scale="2 2 2">
      </a-box>
      <a-entity gltf-model="#egg-spotty" shadow="receive:false" scale="2 2 2"
        animation__position="property: position; from: 0 0 0; to: 0 2 0; dur: 2000; easing: easeOutElastic; startEvents: parentMarkerFound"
        position="0 0 0">
      </a-entity>

    </a-marker>

    <a-marker type="barcode" value="106" id="barcode-106" registerevents>
      <a-box shadow="receive:true" material="color: #ffff55" geometry="height: 0.05" opacity="0.8" position="0 0.05 0"
        scale="2 2 2">
      </a-box>
      <a-entity id="egg_entity" gltf-model="#egg" shadow="receive:false" scale="2 2 2"
        animation__position="property: position; from: 0 0 0; to: 0 2 0; dur: 2000; easing: easeOutElastic; startEvents: parentMarkerFound"
        animation__colour="property: gltf-material-tweak.color; from: #22ccff; to: #0055ff; dur: 2000; easing: easeOutQuad; startEvents: parentMarkerFound"
        position="0 0 0" gltf-material-tweak="material: EggMaterial001; opacity: 1.0">
      </a-entity>
      <a-entity id="light-ring" scale="2 2 2" light-ring></a-entity>
    </a-marker>


    <a-light type="ambient" intensity="0.7"></a-light>
    <a-light type="directional" intensity="0.5" position="-1 4 1"></a-light>

    <a-entity camera="near: 1.0" />
  </a-scene>


  <div class="welcome-dialog" id="welcome-dialog">
    <!-- <h1>Welcome to AR Easter Egg Hunt! &#x1F95A;&#x1F430;</h1> -->
    <img src="/assets/logo.png" class="logo" alt="AR Easter Egg Hunt">
    <p>For best results use Safari (on iPhone) or Google Chrome (on Android).</p>
    <p>Your name and score will be shown on the leaderboard in The Hall. All your data will be deleted at the end of the day.</p>
    <p>Click below to sign in with your school Google account:</p>
    <form id="start-form" onsubmit="return false;">
      <!-- <input type="text" id="start-form-name" autocomplete="name" minlength="3" maxlength="20" required></input> -->
      <input type="submit" value="Play">
    </form>
    </form>
  </div>

  <div id="game-hud" class="game-hud hide">
    <div class="points">
      <div class="points-title">Points</div>
      <div class="points-text" id="points-text">0</div>
    </div>
    <div class="user">
      <div class="user-title">Playing as</div>
      <div class="user-text" id="user-text"></div>
      <button id="btn-sign-out">Sign out</button>
    </div>
  </div>
</body>

</html>